{% extends 'base.html' %} 
{% block content %}
<div id="download_div" style="display:none;">
    <br>
    <a target="_blank" id="download"><span >Click this link to download your recording!</span></a><br><br>
    <br>
    <input type=hidden id="downloadname" value="my_recording.mp4"><br><br>
<div class="container" id='nested_fd' style="float:center;">
        <div class="row">
            <div class="col">
                <h3>After you have downloaded your recording, reviewed it, and are satisfied that everything is OK, use the form below to upload your reaction to the Virtual Reakt servers :)</h3>
                <hr>
                
                <form method=post enctype=multipart/form-data>
                    <div class="form-group">

                        <div class="custom-file">
                            <input type=hidden name=user value="{{ current_user.username }}"><br><br> 
                            
                            <input type=hidden name=vid value="{{ video.path }}"><br><br> 
                            
                            <input type=hidden name=email value="{{ current_user.email }}"><br><br> 
                            
                            &nbsp&nbsp&nbsp&nbsp&nbspYour reaction:&nbsp&nbsp&nbsp&nbsp&nbsp<input
                            type=file name=file accept=".mp4,.mov"><br>
                        </div>
                    </div><br>
                    &nbsp&nbsp&nbsp&nbsp&nbsp<button type="submit" class="btn btn-primary">Upload</button>
                </form>
    
            </div>
        </div>
    </div>
</div>


<div id="viddiv" style="float:left;width: 50%;padding: 10px;">
    <video id="vid" style="text-align:center;position: relative;left: 50%;transform: translateX(-50%);" width="500em" height="450em"
        controls>
        <source src="{{ url_for('static', filename='uploads/content_vids/') }}{{ video.path }}" type="video/mp4"> Your browser does not support the video tag.
    </video>
    


</div><br><br>
<div>
<select class="sel_bar" name="genre" id="genre">
    <optgroup label="Entertainment">
      <option value="comedy">Comedy</option>
      <option value="drama">Drama</option>
      <option value="horror">Horror</option>
    </optgroup>
    <optgroup label="Presentation">
      <option value="business">Business</option>
      <option value="academic">Academic</option>
    </optgroup>
  </select>
</div>
<div>
    <select class="sel_bar" name="react_select" id="react_select">
        <optgroup>
          <option value="smile">smile</option>
          <option value="laugh">laugh</option>
          <option value="bored">bored</option>
        </optgroup>
      </select>
    </div>

<div id="emojis" style="padding: 50 100 50 100;">
    
</div>
<button class="g-btn" id="g-btn">Preview Graph</button>
<div id="select_error"></div>
<h1 style="text-align:center;padding-top:50px;" class="chart_header" id="c_head"></h1>
<div height="400px" width="400px" style="width:100%;height:100vh;display:block;">
    <canvas id="myChart" width="400" height="400" style="top:0;bottom:0;right:0;left:0;margin:auto;"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="{{ url_for('static', filename='js/emoji_react.js') }}"></script> 
{% endblock %}